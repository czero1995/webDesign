{extend name="common/base"}
{block name="content-header"}
<link rel="stylesheet" href="__STATIC__/admin/plugins/select2/select2.min.css">
    <h1>
        {$module_names[0]}
        <small>
        {$module_names[1]}</small>
    </h1>
    <ol class="breadcrumb">
        {volist name="module_names" id="vo"}
            <li {if condition="$module_nums==$key"}class="active"{/if}>{if condition="0==$key"}<i class="fa fa-dashboard"></i>{/if} {$vo}</li>
        {/volist}
    </ol>
{/block}

{block name="content"}

        <div class="row">
            <div class="container-fluid">
                <div class="pull-right">
                    <a href="javascript:history.go(-1)" data-toggle="tooltip" title="" class="btn btn-default" data-original-title="返回列表"><i class="fa fa-reply"></i></a>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title"><i class="fa fa-list"></i> 场馆详情</h3>
                    </div>
                    <div class="panel-body ">
                        <div class="tab-content col-md-12">
                            <div class="tab-pane active" id="stadium_detail">

                                <table class="table table-bordered">
                                    <tbody>
                                    <tr>
                                        <td class="col-sm-2">名称：</td>
                                        <td class="col-sm-8">{{info.title}}</td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2">封面图：</td>
                                        <td class="col-sm-8"><img class="img-polaroid" style="height:50px;text-align: center;" :src="info.post"></td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2">简介：</td>
                                        <td class="col-sm-8" ><div v-html="info.intro"></div></td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2">联系电话：</td>
                                        <td class="col-sm-8">{{info.tel}}</td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2">微信号：</td>
                                        <td class="col-sm-8">{{info.wechat}}</td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2">省份：</td>
                                        <td class="col-sm-8">{{info.province_name}}-{{info.city_name}}-{{info.district_name}}</td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2">地址：</td>
                                        <td class="col-sm-8">{{info.address}}</td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2">预定链接：</td>
                                        <td class="col-sm-8">{{info.booking_url}}</td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2">状态：</td>
                                        <td class="col-sm-8">
                                            <span v-if="info.status == 1">营业中</span>
                                            <span v-else="info.status == 2">停业中</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2">推荐：</td>
                                        <td class="col-sm-8">
                                            <span v-if="info.is_recommend == 1">是</span>
                                            <span v-else="info.is_recommend == 2">否</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2">添加时间：</td>
                                        <td class="col-sm-8">{{info.create_time}}</td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2">关联教练：</td>
                                        <td class="col-sm-8">
                                            <div v-for="item in coachs">

                                                <span v-if="item.status == 1"><i class="fa fa-circle-o text-aqua"></i> {{item.name}}</span>
                                                <span v-else="item.status == 2"><i class="fa fa-circle-o text-red"></i> {{item.name}}</span>

                                            </div>
                                            <i></i>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2">关联课程：</td>
                                        <td class="col-sm-8">
                                            <div v-for="item in courses">

                                                <span><i class="fa fa-book"></i> {{item.title}}</span>

                                            </div>
                                            <i></i>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </section>
    <!-- /.content -->

</div>
{/block}

{block name="script"}

<!--Vue-->
<script src="__STATIC__/admin/js/vue.js"></script>
<script>
    var stadium_detail = new Vue({
        el: '#stadium_detail',
        data:{
            id: "{$id}",
            info: '',
            coachs: '',
            courses: ''
        },
        created: function () {
            this.getData()
        },
        methods: {
            getData: function () {
                var self = this;
                $.getJSON(api_url+'stadium/detailStadium/id/'+this.id,function (res) {
                    self.info = res.data;
                    if(res.data.coach_info)
                    {
                        self.coachs = res.data.coach_info;
                    }
                    if(res.data.course_info)
                    {
                        self.courses = res.data.course_info;
                    }

                })
            }
        }

    });
</script>

{/block}