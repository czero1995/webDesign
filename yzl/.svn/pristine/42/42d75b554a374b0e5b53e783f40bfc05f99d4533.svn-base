
//选中图片
function selectThis(e, obj) {
    e.stopPropagation ? e.stopPropagation() : e.cancelBubble = true;
    if ($(obj).hasClass("selected")) {
        $(obj).removeClass("selected");
    } else {
        $(obj).addClass("selected");
    }
    var imgItemLen = $(obj).siblings("li").add($(obj)).length,
        imgItemSelectedLen = $(obj).siblings("li").add($(obj)).filter(".selected").length;
    if (imgItemLen == imgItemSelectedLen) {
        $(obj).closest(".js_imgWrap").prev(".js_imgOperate").find("input:checkbox").prop("checked", true);
    } else {
        $(obj).closest(".js_imgWrap").prev(".js_imgOperate").find("input:checkbox").prop("checked", false);
    }
}

//删除上传图片
function deleteThis(e, obj) {
    e.stopPropagation ? e.stopPropagation() : e.cancelBubble = true;
    if (confirm("确定要删除吗？")) {
        $(obj).closest("li").remove();
    }
}

//全选图片
function checkAllImg(obj) {
    var allImgWrap = $(obj).closest(".js_imgOperate").next(".js_imgWrap"),
        allImgItem = allImgWrap.find("li");
    obj.checked ? allImgItem.addClass("selected") : allImgItem.removeClass("selected");
}

//删除选中图片
function deleteAllImg(obj) {
    var allImgWrap = $(obj).closest(".js_imgOperate").next(".js_imgWrap"),
        deleteImgItem = allImgWrap.find(".selected");
    if (deleteImgItem.length) {
        if (confirm("确定要删除选中图片吗？")) {
            allImgWrap.find(".selected").remove();
        }
    } else {
        layer.msg("请选择需要删除的图片！");
    }
}